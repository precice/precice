<?xml version="1.0" encoding='UTF-8'?>

<precice-configuration>

     <log>
        <sink type="stream" output="stdout" filter="%Severity% > debug" enabled="true"/>
    </log>		

   <solver-interface dimensions="3">

      <data:scalar name="solver_One_Data"/>
      <data:scalar name="solver_Two_Data"/>

      <mesh name="dummy_Mesh_One">
        <use-data name="solver_One_Data"/>
        <use-data name="solver_Two_Data"/>
    </mesh>

      <mesh name="dummy_Mesh_Two">
        <use-data name="solver_One_Data"/>
        <use-data name="solver_Two_Data"/>
    </mesh>

      <participant name="dummy_Solver_One">
         <use-mesh name="dummy_Mesh_Two" from="dummy_Solver_Two"/>
         <use-mesh name="dummy_Mesh_One" provide="yes"/>
         <write-data name="solver_One_Data" mesh="dummy_Mesh_One"/>
         <read-data  name="solver_Two_Data" mesh="dummy_Mesh_One"/>
         <mapping:nearest-neighbor direction="write" from="dummy_Mesh_One" to="dummy_Mesh_Two" constraint="consistent" timing="initial" />
         <mapping:nearest-neighbor direction="read" from="dummy_Mesh_Two" to="dummy_Mesh_One" constraint="consistent" timing="initial"  />
      </participant>

      <participant name="dummy_Solver_Two">
         <use-mesh name="dummy_Mesh_Two" provide="yes"/>
         <use-mesh name="dummy_Mesh_One" from="dummy_Solver_One"/>
         <write-data name="solver_Two_Data" mesh="dummy_Mesh_Two"/>
         <read-data  name="solver_One_Data" mesh="dummy_Mesh_Two"/>
      </participant>

      <m2n:sockets from="dummy_Solver_One" to="dummy_Solver_Two" distribution-type="gather-scatter"/>
      
      <coupling-scheme:serial-explicit>
           <participants first="dummy_Solver_One" second="dummy_Solver_Two"/>
           <max-timesteps value="5"/>
           <timestep-length value="1" />
	   <exchange data="solver_One_Data" mesh="dummy_Mesh_Two" from="dummy_Solver_One" to="dummy_Solver_Two" />
           <exchange data="solver_Two_Data" mesh="dummy_Mesh_Two" from="dummy_Solver_Two" to="dummy_Solver_One"/>       
      </coupling-scheme:serial-explicit>

   </solver-interface>

</precice-configuration>
